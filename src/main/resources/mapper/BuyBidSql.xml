<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTDMapper3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="boot.mvc.buy_bid.BuyBidMapperInter">
    <insert id="insertBuyBid" parameterType="buyBidDto">
        insert into buy_bid (item_num, user_num, buy_wishprice, buy_size, buy_addr, buy_deadline, buy_inputday)
        values (#{item_num}, #{user_num}, #{buy_wishprice}, #{buy_size}, #{buy_addr}, #{buy_deadline}, now())
    </insert>
    
	<!-- 즉시판매할 buy_num 조회 -->
	<select id="getBuyBidForSellNow" resultType="BuyBidDto" parameterType="HashMap">
		select * from buy_bid where item_num=#{item_num} and buy_size=#{buy_size} order by buy_wishprice desc limit 1
	</select>

	<select id="getDataOfBuyBid" resultType="BuyBidDto" parameterType="String">
		select * from buy_bid where buy_num=#{buy_num}
	</select>

</mapper>